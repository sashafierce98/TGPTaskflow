{"ast":null,"code":"import _objectSpread from\"/Users/mrinmayee/TGPTaskflow/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState,useEffect}from\"react\";import{useParams,useNavigate}from\"react-router-dom\";import axios from\"axios\";import{DragDropContext,Droppable,Draggable}from\"@hello-pangea/dnd\";import{ArrowLeft,Plus,Settings,MoreVertical,Calendar,User as UserIcon,AlertCircle,Pencil,Trash2}from\"lucide-react\";import{Button}from\"components/ui/button\";import{Dialog,DialogContent,DialogHeader,DialogTitle,DialogTrigger}from\"components/ui/dialog\";import{Input}from\"components/ui/input\";import{Label}from\"components/ui/label\";import{Textarea}from\"components/ui/textarea\";import{Select,SelectContent,SelectItem,SelectTrigger,SelectValue}from\"components/ui/select\";import{toast}from\"sonner\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const BACKEND_URL=process.env.REACT_APP_BACKEND_URL;const priorityColors={low:\"bg-[#10B981] text-white\",medium:\"bg-[#F59E0B] text-white\",high:\"bg-[#EF4444] text-white\"};export default function BoardView(){var _editingColumn$wip_li,_showAnswerDialog$com;const{boardId}=useParams();const navigate=useNavigate();const[board,setBoard]=useState(null);const[columns,setColumns]=useState([]);const[cards,setCards]=useState([]);const[loading,setLoading]=useState(true);const[showAddCard,setShowAddCard]=useState(null);const[showCardDetail,setShowCardDetail]=useState(null);const[showEditCard,setShowEditCard]=useState(null);const[showColumnSettings,setShowColumnSettings]=useState(null);const[showBoardSettings,setShowBoardSettings]=useState(false);const[showEditBoard,setShowEditBoard]=useState(false);const[editingBoard,setEditingBoard]=useState(null);const[showQuestionDialog,setShowQuestionDialog]=useState(false);const[showAnswerDialog,setShowAnswerDialog]=useState(null);const[editingColumn,setEditingColumn]=useState(null);const[newColumn,setNewColumn]=useState({name:\"\",wip_limit:\"\",color:\"#64748B\"});const[newQuestion,setNewQuestion]=useState(\"\");const[newAnswer,setNewAnswer]=useState(\"\");const[newCard,setNewCard]=useState({title:\"\",description:\"\",priority:\"medium\",due_date:\"\"});useEffect(()=>{fetchBoardData();},[boardId]);const fetchBoardData=async()=>{try{const[boardRes,columnsRes,cardsRes]=await Promise.all([axios.get(\"\".concat(BACKEND_URL,\"/api/boards/\").concat(boardId),{withCredentials:true}),axios.get(\"\".concat(BACKEND_URL,\"/api/boards/\").concat(boardId,\"/columns\"),{withCredentials:true}),axios.get(\"\".concat(BACKEND_URL,\"/api/boards/\").concat(boardId,\"/cards\"),{withCredentials:true})]);setBoard(boardRes.data);setColumns(columnsRes.data);setCards(cardsRes.data);}catch(error){console.error(\"Failed to fetch board:\",error);toast.error(\"Failed to load board\");}finally{setLoading(false);}};const handleAddCard=async columnId=>{if(!newCard.title.trim()){toast.error(\"Card title is required\");return;}try{await axios.post(\"\".concat(BACKEND_URL,\"/api/boards/\").concat(boardId,\"/columns/\").concat(columnId,\"/cards\"),newCard,{withCredentials:true});toast.success(\"Card created\");setShowAddCard(null);setNewCard({title:\"\",description:\"\",priority:\"medium\",due_date:\"\"});fetchBoardData();}catch(error){console.error(\"Failed to create card:\",error);toast.error(\"Failed to create card\");}};const handleUpdateColumn=async()=>{if(!editingColumn)return;try{await axios.put(\"\".concat(BACKEND_URL,\"/api/columns/\").concat(editingColumn.column_id),{name:editingColumn.name,wip_limit:editingColumn.wip_limit===\"\"?null:parseInt(editingColumn.wip_limit),color:editingColumn.color},{withCredentials:true});toast.success(\"Column updated\");setShowColumnSettings(null);setEditingColumn(null);fetchBoardData();}catch(error){console.error(\"Failed to update column:\",error);toast.error(\"Failed to update column\");}};const handleAddColumn=async()=>{if(!newColumn.name.trim()){toast.error(\"Column name is required\");return;}try{await axios.post(\"\".concat(BACKEND_URL,\"/api/boards/\").concat(boardId,\"/columns\"),{name:newColumn.name,wip_limit:newColumn.wip_limit===\"\"?null:parseInt(newColumn.wip_limit),color:newColumn.color},{withCredentials:true});toast.success(\"Column added\");setShowBoardSettings(false);setNewColumn({name:\"\",wip_limit:\"\",color:\"#64748B\"});fetchBoardData();}catch(error){console.error(\"Failed to add column:\",error);toast.error(\"Failed to add column\");}};const openColumnSettings=column=>{try{var _column$wip_limit;console.log(\"Opening column settings for:\",column);setEditingColumn(_objectSpread(_objectSpread({},column),{},{wip_limit:(_column$wip_limit=column.wip_limit)!==null&&_column$wip_limit!==void 0?_column$wip_limit:\"\"}));setShowColumnSettings(column.column_id);}catch(error){console.error(\"Error opening column settings:\",error);toast.error(\"Failed to open column settings\");}};const handleAskQuestion=async()=>{if(!newQuestion.trim()){toast.error(\"Question cannot be empty\");return;}const questionsColumn=columns.find(c=>c.name===\"Questions\");if(!questionsColumn){toast.error(\"Questions column not found\");return;}try{await axios.post(\"\".concat(BACKEND_URL,\"/api/boards/\").concat(boardId,\"/columns/\").concat(questionsColumn.column_id,\"/cards\"),{title:newQuestion,description:\"\",priority:\"medium\"},{withCredentials:true});toast.success(\"Question posted\");setShowQuestionDialog(false);setNewQuestion(\"\");fetchBoardData();}catch(error){console.error(\"Failed to post question:\",error);toast.error(\"Failed to post question\");}};const handleAnswerQuestion=async questionCard=>{if(!newAnswer.trim()){toast.error(\"Answer cannot be empty\");return;}try{await axios.post(\"\".concat(BACKEND_URL,\"/api/cards/\").concat(questionCard.card_id,\"/comments\"),{text:newAnswer},{withCredentials:true});toast.success(\"Answer posted\");setNewAnswer(\"\");// Fetch updated comments\nconst comments=await axios.get(\"\".concat(BACKEND_URL,\"/api/cards/\").concat(questionCard.card_id,\"/comments\"),{withCredentials:true});setShowAnswerDialog(_objectSpread(_objectSpread({},questionCard),{},{comments:comments.data}));}catch(error){console.error(\"Failed to post answer:\",error);toast.error(\"Failed to post answer\");}};const openAnswerDialog=async questionCard=>{try{const comments=await axios.get(\"\".concat(BACKEND_URL,\"/api/cards/\").concat(questionCard.card_id,\"/comments\"),{withCredentials:true});setShowAnswerDialog(_objectSpread(_objectSpread({},questionCard),{},{comments:comments.data}));}catch(error){console.error(\"Failed to fetch answers:\",error);setShowAnswerDialog(_objectSpread(_objectSpread({},questionCard),{},{comments:[]}));}};const handleEditCard=card=>{setShowEditCard(_objectSpread(_objectSpread({},card),{},{due_date:card.due_date?card.due_date.split('T')[0]:\"\"}));};const handleUpdateCard=async()=>{var _showEditCard$title;if(!(showEditCard!==null&&showEditCard!==void 0&&(_showEditCard$title=showEditCard.title)!==null&&_showEditCard$title!==void 0&&_showEditCard$title.trim())){toast.error(\"Card title is required\");return;}try{await axios.put(\"\".concat(BACKEND_URL,\"/api/cards/\").concat(showEditCard.card_id),{title:showEditCard.title,description:showEditCard.description,priority:showEditCard.priority,due_date:showEditCard.due_date||null},{withCredentials:true});toast.success(\"Card updated\");setShowEditCard(null);fetchBoardData();}catch(error){console.error(\"Failed to update card:\",error);toast.error(\"Failed to update card\");}};const handleDeleteCard=async(cardId,cardTitle)=>{if(!window.confirm(\"Are you sure you want to delete \\\"\".concat(cardTitle,\"\\\"? This action cannot be undone.\"))){return;}try{await axios.delete(\"\".concat(BACKEND_URL,\"/api/cards/\").concat(cardId),{withCredentials:true});toast.success(\"Card deleted\");fetchBoardData();}catch(error){console.error(\"Failed to delete card:\",error);toast.error(\"Failed to delete card\");}};const handleEditBoard=()=>{setEditingBoard({name:(board===null||board===void 0?void 0:board.name)||\"\",description:(board===null||board===void 0?void 0:board.description)||\"\"});setShowEditBoard(true);};const handleUpdateBoard=async()=>{var _editingBoard$name;if(!(editingBoard!==null&&editingBoard!==void 0&&(_editingBoard$name=editingBoard.name)!==null&&_editingBoard$name!==void 0&&_editingBoard$name.trim())){toast.error(\"Board name is required\");return;}try{await axios.put(\"\".concat(BACKEND_URL,\"/api/boards/\").concat(boardId),{name:editingBoard.name,description:editingBoard.description},{withCredentials:true});toast.success(\"Board updated\");setShowEditBoard(false);setEditingBoard(null);fetchBoardData();}catch(error){console.error(\"Failed to update board:\",error);toast.error(\"Failed to update board\");}};const handleDragEnd=async result=>{const{source,destination,draggableId}=result;if(!destination)return;if(source.droppableId===destination.droppableId&&source.index===destination.index)return;// Get column names to check for Questions column\nconst sourceColumn=columns.find(c=>c.column_id===source.droppableId);const destColumn=columns.find(c=>c.column_id===destination.droppableId);// Prevent dragging to/from Questions column\nif((sourceColumn===null||sourceColumn===void 0?void 0:sourceColumn.name)===\"Questions\"||(destColumn===null||destColumn===void 0?void 0:destColumn.name)===\"Questions\"){toast.error(\"Questions cannot be moved to other columns\");return;}// Create new cards array with the card moved to its new position\nconst movedCard=cards.find(card=>card.card_id===draggableId);if(!movedCard)return;// Build the new cards array with proper ordering\nconst newCards=cards.map(card=>{if(card.card_id===draggableId){return _objectSpread(_objectSpread({},card),{},{column_id:destination.droppableId});}return card;});// Immediately update state for smooth UI (optimistic update)\nsetCards(newCards);// Then update backend silently - DO NOT refetch to avoid visual glitch\ntry{await axios.put(\"\".concat(BACKEND_URL,\"/api/cards/\").concat(draggableId),{column_id:destination.droppableId},{withCredentials:true});// Success - no need to refetch, optimistic update is already correct\n}catch(error){console.error(\"Failed to move card:\",error);// Revert on error by refetching\nfetchBoardData();toast.error(\"Failed to move card\");}};const getCardsForColumn=columnId=>{return cards.filter(card=>card.column_id===columnId);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center bg-[#F8FAFC]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"text-center\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-[#2E5C38] border-r-transparent\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-4 text-[#475569]\",children:\"Loading board...\"})]})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen bg-[#F8FAFC]\",children:[/*#__PURE__*/_jsx(\"nav\",{className:\"bg-white border-b border-[#E2E8F0] sticky top-0 z-50 backdrop-blur-md bg-white/80\",children:/*#__PURE__*/_jsx(\"div\",{className:\"container mx-auto px-6 py-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-4\",children:[/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",onClick:()=>navigate(\"/dashboard\"),\"data-testid\":\"back-to-dashboard\",children:/*#__PURE__*/_jsx(ArrowLeft,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-[#1E293B]\",style:{fontFamily:'Manrope'},children:board===null||board===void 0?void 0:board.name}),(board===null||board===void 0?void 0:board.description)&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#475569]\",title:board.description,children:board.description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",onClick:handleEditBoard,\"data-testid\":\"edit-board-button\",title:\"Edit Board\",children:/*#__PURE__*/_jsx(Pencil,{className:\"w-5 h-5\"})}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",onClick:()=>setShowBoardSettings(true),\"data-testid\":\"board-settings\",title:\"Board Settings\",children:/*#__PURE__*/_jsx(Settings,{className:\"w-5 h-5\"})})]})]})})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-6 overflow-x-auto kanban-scrollbar\",children:/*#__PURE__*/_jsx(DragDropContext,{onDragEnd:handleDragEnd,children:/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-6 min-w-max pb-4\",children:columns.map(column=>{const columnCards=getCardsForColumn(column.column_id);const isWipLimitReached=column.wip_limit&&columnCards.length>=column.wip_limit;const isQuestionsColumn=column.name===\"Questions\";return/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-[320px]\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white rounded-lg border border-[#E2E8F0] p-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-3 h-3 rounded-full\",style:{backgroundColor:column.color}}),/*#__PURE__*/_jsx(\"h3\",{className:\"font-semibold text-[#1E293B]\",style:{fontFamily:'Manrope'},children:column.name}),/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm text-[#64748B]\",children:[columnCards.length,column.wip_limit&&\" / \".concat(column.wip_limit)]})]}),!isQuestionsColumn&&/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",className:\"h-8 w-8\",onClick:()=>openColumnSettings(column),\"data-testid\":\"column-settings-\".concat(column.column_id),children:/*#__PURE__*/_jsx(MoreVertical,{className:\"w-4 h-4\"})})]}),isWipLimitReached&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#FEF3C7] border border-[#F59E0B] rounded p-2 mb-3 flex items-center gap-2\",children:[/*#__PURE__*/_jsx(AlertCircle,{className:\"w-4 h-4 text-[#F59E0B]\"}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs text-[#92400E]\",children:\"WIP limit reached\"})]}),isQuestionsColumn?/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-3 min-h-[100px]\",children:[columnCards.map((card,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"bg-[#F5F3FF] border border-[#8B5CF6] rounded-lg p-4\",\"data-testid\":\"question-\".concat(card.card_id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2 mb-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 rounded-full bg-[#8B5CF6] flex items-center justify-center flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-xs font-bold\",children:\"Q\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-[#1E293B] text-sm\",children:card.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-[#64748B] mt-1\",children:[new Date(card.created_at).toLocaleDateString(),\" at \",new Date(card.created_at).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})]})]})]}),/*#__PURE__*/_jsxs(Button,{variant:\"outline\",size:\"sm\",className:\"w-full mt-2 text-[#8B5CF6] border-[#8B5CF6] hover:bg-[#8B5CF6] hover:text-white\",onClick:()=>openAnswerDialog(card),\"data-testid\":\"answer-question-\".concat(card.card_id),children:[\"View Answers (\",card.answer_count||0,\")\"]})]},card.card_id)),/*#__PURE__*/_jsxs(Button,{variant:\"ghost\",className:\"w-full text-[#8B5CF6] hover:text-[#8B5CF6] hover:bg-[#F5F3FF]\",onClick:()=>setShowQuestionDialog(true),\"data-testid\":\"ask-question-button\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Ask Question\"]})]}):/*#__PURE__*/_jsx(Droppable,{droppableId:column.column_id,children:(provided,snapshot)=>/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread({ref:provided.innerRef},provided.droppableProps),{},{className:\"space-y-3 min-h-[100px] \".concat(snapshot.isDraggingOver?'bg-[#E2E8F0]/30 rounded-lg p-2':''),children:[columnCards.map((card,index)=>/*#__PURE__*/_jsx(Draggable,{draggableId:card.card_id,index:index,children:(provided,snapshot)=>{// Disable drop animation by removing transform transition\nconst style=_objectSpread({},provided.draggableProps.style);// When dropping, skip the animation entirely\nif(snapshot.isDropAnimating){style.transitionDuration='0.001s';}return/*#__PURE__*/_jsxs(\"div\",_objectSpread(_objectSpread(_objectSpread({ref:provided.innerRef},provided.draggableProps),provided.dragHandleProps),{},{className:\"bg-white border border-[#E2E8F0] rounded-lg p-4 cursor-pointer hover:border-[#2E5C38] group relative \".concat(snapshot.isDragging?'card-dragging':''),style:style,\"data-testid\":\"card-\".concat(card.card_id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start justify-between mb-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-[#1E293B] flex-1 pr-2\",onClick:()=>setShowCardDetail(card),children:card.title}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\",children:[/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",className:\"h-6 w-6 text-[#64748B] hover:text-[#2E5C38] hover:bg-[#2E5C38]/10\",onClick:e=>{e.stopPropagation();handleEditCard(card);},\"data-testid\":\"edit-card-\".concat(card.card_id),children:/*#__PURE__*/_jsx(Pencil,{className:\"w-3 h-3\"})}),/*#__PURE__*/_jsx(Button,{variant:\"ghost\",size:\"icon\",className:\"h-6 w-6 text-[#64748B] hover:text-[#EF4444] hover:bg-[#FEE2E2]\",onClick:e=>{e.stopPropagation();handleDeleteCard(card.card_id,card.title);},\"data-testid\":\"delete-card-\".concat(card.card_id),children:/*#__PURE__*/_jsx(Trash2,{className:\"w-3 h-3\"})})]}),/*#__PURE__*/_jsx(\"span\",{className:\"text-xs px-2 py-1 rounded \".concat(priorityColors[card.priority]),children:card.priority})]}),card.description&&/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#475569] mb-3 line-clamp-2\",title:card.description,children:card.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3 text-xs text-[#64748B]\",children:[card.due_date&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-1\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"w-3 h-3\"}),/*#__PURE__*/_jsx(\"span\",{children:new Date(card.due_date).toLocaleDateString()})]}),card.assigned_to&&/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-1\",children:/*#__PURE__*/_jsx(UserIcon,{className:\"w-3 h-3\"})})]})]}));}},card.card_id)),provided.placeholder]}))}),!isQuestionsColumn&&/*#__PURE__*/_jsxs(Dialog,{open:showAddCard===column.column_id,onOpenChange:open=>setShowAddCard(open?column.column_id:null),children:[/*#__PURE__*/_jsx(DialogTrigger,{asChild:true,children:/*#__PURE__*/_jsxs(Button,{variant:\"ghost\",className:\"w-full mt-3 text-[#475569] hover:text-[#2E5C38] hover:bg-[#2E5C38]/5\",\"data-testid\":\"add-card-\".concat(column.column_id),disabled:isWipLimitReached,children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Add Card\"]})}),/*#__PURE__*/_jsxs(DialogContent,{\"aria-describedby\":\"create-card-description\",children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsx(DialogTitle,{style:{fontFamily:'Manrope'},children:\"Create New Card\"})}),/*#__PURE__*/_jsx(\"p\",{id:\"create-card-description\",className:\"sr-only\",children:\"Create a new card with title, description, priority, and due date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"card-title\",children:\"Title\"}),/*#__PURE__*/_jsx(Input,{id:\"card-title\",\"data-testid\":\"card-title-input\",value:newCard.title,onChange:e=>setNewCard(_objectSpread(_objectSpread({},newCard),{},{title:e.target.value})),placeholder:\"Card title\",className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"card-description\",children:\"Description\"}),/*#__PURE__*/_jsx(Textarea,{id:\"card-description\",\"data-testid\":\"card-description-input\",value:newCard.description,onChange:e=>setNewCard(_objectSpread(_objectSpread({},newCard),{},{description:e.target.value})),placeholder:\"Card description\",className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"card-priority\",children:\"Priority\"}),/*#__PURE__*/_jsxs(Select,{value:newCard.priority,onValueChange:value=>setNewCard(_objectSpread(_objectSpread({},newCard),{},{priority:value})),children:[/*#__PURE__*/_jsx(SelectTrigger,{\"data-testid\":\"card-priority-select\",children:/*#__PURE__*/_jsx(SelectValue,{})}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"high\",children:\"High\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"card-due-date\",children:\"Due Date\"}),/*#__PURE__*/_jsx(Input,{id:\"card-due-date\",\"data-testid\":\"card-due-date-input\",type:\"date\",value:newCard.due_date,onChange:e=>setNewCard(_objectSpread(_objectSpread({},newCard),{},{due_date:e.target.value})),className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsx(Button,{onClick:()=>handleAddCard(column.column_id),\"data-testid\":\"create-card-submit\",className:\"w-full bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\",children:\"Create Card\"})]})]})]})]})},column.column_id);})})})}),showCardDetail&&/*#__PURE__*/_jsx(Dialog,{open:!!showCardDetail,onOpenChange:()=>setShowCardDetail(null),children:/*#__PURE__*/_jsxs(DialogContent,{className:\"max-w-2xl\",\"aria-describedby\":\"card-detail-description\",children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsx(DialogTitle,{style:{fontFamily:'Manrope'},children:(showCardDetail===null||showCardDetail===void 0?void 0:showCardDetail.title)||\"Card Details\"})}),/*#__PURE__*/_jsx(\"p\",{id:\"card-detail-description\",className:\"sr-only\",children:\"View detailed information about this card\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:\"Description\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[#475569] mt-2\",children:(showCardDetail===null||showCardDetail===void 0?void 0:showCardDetail.description)||\"No description\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:\"Priority\"}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-block mt-2 text-xs px-3 py-1 rounded \".concat(priorityColors[(showCardDetail===null||showCardDetail===void 0?void 0:showCardDetail.priority)||'medium']),children:(showCardDetail===null||showCardDetail===void 0?void 0:showCardDetail.priority)||'medium'})]}),(showCardDetail===null||showCardDetail===void 0?void 0:showCardDetail.due_date)&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:\"Due Date\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[#475569] mt-2\",children:new Date(showCardDetail.due_date).toLocaleDateString()})]})]})]})]})}),showEditCard&&/*#__PURE__*/_jsx(Dialog,{open:!!showEditCard,onOpenChange:()=>setShowEditCard(null),children:/*#__PURE__*/_jsxs(DialogContent,{\"aria-describedby\":\"edit-card-description\",children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsx(DialogTitle,{style:{fontFamily:'Manrope'},children:\"Edit Card\"})}),/*#__PURE__*/_jsx(\"p\",{id:\"edit-card-description\",className:\"sr-only\",children:\"Edit card details including title, description, priority, and due date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"edit-card-title\",children:\"Title\"}),/*#__PURE__*/_jsx(Input,{id:\"edit-card-title\",\"data-testid\":\"edit-card-title-input\",value:(showEditCard===null||showEditCard===void 0?void 0:showEditCard.title)||\"\",onChange:e=>setShowEditCard(_objectSpread(_objectSpread({},showEditCard),{},{title:e.target.value})),placeholder:\"Card title\",className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"edit-card-description\",children:\"Description\"}),/*#__PURE__*/_jsx(Textarea,{id:\"edit-card-description\",\"data-testid\":\"edit-card-description-input\",value:(showEditCard===null||showEditCard===void 0?void 0:showEditCard.description)||\"\",onChange:e=>setShowEditCard(_objectSpread(_objectSpread({},showEditCard),{},{description:e.target.value})),placeholder:\"Card description\",className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"edit-card-priority\",children:\"Priority\"}),/*#__PURE__*/_jsxs(Select,{value:(showEditCard===null||showEditCard===void 0?void 0:showEditCard.priority)||\"medium\",onValueChange:value=>setShowEditCard(_objectSpread(_objectSpread({},showEditCard),{},{priority:value})),children:[/*#__PURE__*/_jsx(SelectTrigger,{\"data-testid\":\"edit-card-priority-select\",children:/*#__PURE__*/_jsx(SelectValue,{})}),/*#__PURE__*/_jsxs(SelectContent,{children:[/*#__PURE__*/_jsx(SelectItem,{value:\"low\",children:\"Low\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"medium\",children:\"Medium\"}),/*#__PURE__*/_jsx(SelectItem,{value:\"high\",children:\"High\"})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"edit-card-due-date\",children:\"Due Date\"}),/*#__PURE__*/_jsx(Input,{id:\"edit-card-due-date\",\"data-testid\":\"edit-card-due-date-input\",type:\"date\",value:(showEditCard===null||showEditCard===void 0?void 0:showEditCard.due_date)||\"\",onChange:e=>setShowEditCard(_objectSpread(_objectSpread({},showEditCard),{},{due_date:e.target.value})),className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsx(Button,{onClick:handleUpdateCard,\"data-testid\":\"update-card-submit\",className:\"w-full bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\",children:\"Update Card\"})]})]})}),showColumnSettings&&editingColumn&&/*#__PURE__*/_jsx(Dialog,{open:!!showColumnSettings,onOpenChange:open=>{if(!open){setShowColumnSettings(null);setEditingColumn(null);}},children:/*#__PURE__*/_jsxs(DialogContent,{\"aria-describedby\":\"column-settings-description\",children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsx(DialogTitle,{style:{fontFamily:'Manrope'},children:\"Column Settings\"})}),/*#__PURE__*/_jsx(\"p\",{id:\"column-settings-description\",className:\"sr-only\",children:\"Customize column name, color, and WIP limit\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"column-name\",children:\"Column Name\"}),/*#__PURE__*/_jsx(Input,{id:\"column-name\",\"data-testid\":\"column-name-input\",value:(editingColumn===null||editingColumn===void 0?void 0:editingColumn.name)||\"\",onChange:e=>setEditingColumn(_objectSpread(_objectSpread({},editingColumn),{},{name:e.target.value})),placeholder:\"Column name\",className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"wip-limit\",children:\"WIP Limit (leave empty for unlimited)\"}),/*#__PURE__*/_jsx(Input,{id:\"wip-limit\",\"data-testid\":\"wip-limit-input\",type:\"number\",min:\"0\",value:(_editingColumn$wip_li=editingColumn===null||editingColumn===void 0?void 0:editingColumn.wip_limit)!==null&&_editingColumn$wip_li!==void 0?_editingColumn$wip_li:\"\",onChange:e=>setEditingColumn(_objectSpread(_objectSpread({},editingColumn),{},{wip_limit:e.target.value})),placeholder:\"e.g., 5\",className:\"focus:ring-[#2E5C38]\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-[#64748B] mt-1\",children:[\"Current: \",(editingColumn===null||editingColumn===void 0?void 0:editingColumn.wip_limit)||\"Unlimited\",\" | Recommended for \\\"In Progress\\\": 3-5\"]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"column-color\",children:\"Column Color\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 mt-2\",children:[\"#64748B\",\"#3B82F6\",\"#F59E0B\",\"#10B981\",\"#EF4444\",\"#8B5CF6\",\"#EC4899\"].map(color=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>setEditingColumn(_objectSpread(_objectSpread({},editingColumn),{},{color})),className:\"w-8 h-8 rounded-full border-2 transition-all duration-200 \".concat((editingColumn===null||editingColumn===void 0?void 0:editingColumn.color)===color?\"border-[#2E5C38] scale-110\":\"border-transparent\"),style:{backgroundColor:color},\"data-testid\":\"color-\".concat(color)},color))})]}),/*#__PURE__*/_jsx(Button,{onClick:handleUpdateColumn,\"data-testid\":\"save-column-settings\",className:\"w-full bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\",children:\"Save Changes\"})]})]})}),showBoardSettings&&/*#__PURE__*/_jsx(Dialog,{open:showBoardSettings,onOpenChange:setShowBoardSettings,children:/*#__PURE__*/_jsxs(DialogContent,{\"aria-describedby\":\"board-settings-description\",children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsx(DialogTitle,{style:{fontFamily:'Manrope'},children:\"Board Settings\"})}),/*#__PURE__*/_jsx(\"p\",{id:\"board-settings-description\",className:\"sr-only\",children:\"Add new columns and manage board settings\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"border-b border-[#E2E8F0] pb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-[#1E293B] mb-4\",style:{fontFamily:'Manrope'},children:\"Add New Column\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"new-column-name\",children:\"Column Name\"}),/*#__PURE__*/_jsx(Input,{id:\"new-column-name\",\"data-testid\":\"new-column-name-input\",value:newColumn.name,onChange:e=>setNewColumn(_objectSpread(_objectSpread({},newColumn),{},{name:e.target.value})),placeholder:\"e.g., Testing, Review, Blocked\",className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"new-wip-limit\",children:\"WIP Limit (optional)\"}),/*#__PURE__*/_jsx(Input,{id:\"new-wip-limit\",\"data-testid\":\"new-column-wip-input\",type:\"number\",min:\"0\",value:newColumn.wip_limit,onChange:e=>setNewColumn(_objectSpread(_objectSpread({},newColumn),{},{wip_limit:e.target.value})),placeholder:\"Leave empty for unlimited\",className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{children:\"Column Color\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex gap-2 mt-2\",children:[\"#64748B\",\"#3B82F6\",\"#F59E0B\",\"#10B981\",\"#EF4444\",\"#8B5CF6\",\"#EC4899\"].map(color=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setNewColumn(_objectSpread(_objectSpread({},newColumn),{},{color})),className:\"w-8 h-8 rounded-full border-2 transition-all duration-200 \".concat(newColumn.color===color?\"border-[#2E5C38] scale-110\":\"border-transparent\"),style:{backgroundColor:color},\"data-testid\":\"new-color-\".concat(color)},color))})]}),/*#__PURE__*/_jsxs(Button,{onClick:handleAddColumn,\"data-testid\":\"add-column-submit\",className:\"w-full bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\",children:[/*#__PURE__*/_jsx(Plus,{className:\"w-4 h-4 mr-2\"}),\"Add Column\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-semibold text-[#1E293B] mb-2\",style:{fontFamily:'Manrope'},children:\"Current Columns\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#64748B] mb-3\",children:\"Click the 3-dot menu on each column to edit or delete\"}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-2\",children:columns.map(col=>/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-between p-3 bg-[#F8FAFC] rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-4 h-4 rounded-full\",style:{backgroundColor:col.color}}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-[#1E293B]\",children:col.name}),col.wip_limit&&/*#__PURE__*/_jsxs(\"span\",{className:\"text-xs text-[#64748B]\",children:[\"Limit: \",col.wip_limit]})]})},col.column_id))})]})]})]})}),showQuestionDialog&&/*#__PURE__*/_jsx(Dialog,{open:showQuestionDialog,onOpenChange:setShowQuestionDialog,children:/*#__PURE__*/_jsxs(DialogContent,{\"aria-describedby\":\"ask-question-description\",children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsx(DialogTitle,{style:{fontFamily:'Manrope'},children:\"Ask a Question\"})}),/*#__PURE__*/_jsx(\"p\",{id:\"ask-question-description\",className:\"sr-only\",children:\"Post a question for your team to answer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"question-text\",children:\"Your Question\"}),/*#__PURE__*/_jsx(Textarea,{id:\"question-text\",\"data-testid\":\"question-text-input\",value:newQuestion,onChange:e=>setNewQuestion(e.target.value),placeholder:\"What would you like to know?\",className:\"focus:ring-[#8B5CF6] min-h-[100px]\"})]}),/*#__PURE__*/_jsx(Button,{onClick:handleAskQuestion,\"data-testid\":\"submit-question\",className:\"w-full bg-[#8B5CF6] hover:bg-[#8B5CF6]/90 text-white\",children:\"Post Question\"})]})]})}),showAnswerDialog&&/*#__PURE__*/_jsx(Dialog,{open:!!showAnswerDialog,onOpenChange:()=>setShowAnswerDialog(null),children:/*#__PURE__*/_jsxs(DialogContent,{className:\"max-w-2xl\",\"aria-describedby\":\"answer-question-description\",children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsx(DialogTitle,{style:{fontFamily:'Manrope'},children:\"Question & Answers\"})}),/*#__PURE__*/_jsx(\"p\",{id:\"answer-question-description\",className:\"sr-only\",children:\"View and post answers to this question\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mt-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#F5F3FF] border border-[#8B5CF6] rounded-lg p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-8 h-8 rounded-full bg-[#8B5CF6] flex items-center justify-center flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white font-bold\",children:\"Q\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"font-medium text-[#1E293B]\",children:showAnswerDialog.title}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-[#64748B] mt-1\",children:[\"Asked on \",new Date(showAnswerDialog.created_at).toLocaleDateString()]})]})]})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"h4\",{className:\"font-semibold text-[#1E293B] mb-3\",style:{fontFamily:'Manrope'},children:[\"Answers (\",((_showAnswerDialog$com=showAnswerDialog.comments)===null||_showAnswerDialog$com===void 0?void 0:_showAnswerDialog$com.length)||0,\")\"]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-y-3 max-h-[300px] overflow-y-auto\",children:showAnswerDialog.comments&&showAnswerDialog.comments.length>0?showAnswerDialog.comments.map((comment,idx)=>/*#__PURE__*/_jsx(\"div\",{className:\"bg-[#F8FAFC] border border-[#E2E8F0] rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start gap-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-6 h-6 rounded-full bg-[#2E5C38] flex items-center justify-center flex-shrink-0\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-white text-xs font-bold\",children:\"A\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#1E293B]\",children:comment.text}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xs text-[#64748B] mt-1\",children:[new Date(comment.created_at).toLocaleDateString(),\" at \",new Date(comment.created_at).toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})]})]})]})},idx)):/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-[#64748B] text-center py-4\",children:\"No answers yet. Be the first to answer!\"})})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"answer-text\",children:\"Your Answer\"}),/*#__PURE__*/_jsx(Textarea,{id:\"answer-text\",\"data-testid\":\"answer-text-input\",value:newAnswer,onChange:e=>setNewAnswer(e.target.value),placeholder:\"Share your knowledge...\",className:\"focus:ring-[#2E5C38] mt-2\"}),/*#__PURE__*/_jsx(Button,{onClick:()=>handleAnswerQuestion(showAnswerDialog),\"data-testid\":\"submit-answer\",className:\"w-full mt-3 bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\",children:\"Post Answer\"})]})]})]})}),showEditBoard&&editingBoard&&/*#__PURE__*/_jsx(Dialog,{open:showEditBoard,onOpenChange:setShowEditBoard,children:/*#__PURE__*/_jsxs(DialogContent,{\"aria-describedby\":\"edit-board-description\",children:[/*#__PURE__*/_jsx(DialogHeader,{children:/*#__PURE__*/_jsx(DialogTitle,{style:{fontFamily:'Manrope'},children:\"Edit Board\"})}),/*#__PURE__*/_jsx(\"p\",{id:\"edit-board-description\",className:\"sr-only\",children:\"Edit board name and description\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4 mt-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"edit-board-name\",children:\"Board Name\"}),/*#__PURE__*/_jsx(Input,{id:\"edit-board-name\",\"data-testid\":\"edit-board-name-input\",value:(editingBoard===null||editingBoard===void 0?void 0:editingBoard.name)||\"\",onChange:e=>setEditingBoard(_objectSpread(_objectSpread({},editingBoard),{},{name:e.target.value})),placeholder:\"Board name\",className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Label,{htmlFor:\"edit-board-description\",children:\"Description\"}),/*#__PURE__*/_jsx(Textarea,{id:\"edit-board-description\",\"data-testid\":\"edit-board-description-input\",value:(editingBoard===null||editingBoard===void 0?void 0:editingBoard.description)||\"\",onChange:e=>setEditingBoard(_objectSpread(_objectSpread({},editingBoard),{},{description:e.target.value})),placeholder:\"Board description (optional)\",className:\"focus:ring-[#2E5C38]\"})]}),/*#__PURE__*/_jsx(Button,{onClick:handleUpdateBoard,\"data-testid\":\"update-board-submit\",className:\"w-full bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\",children:\"Update Board\"})]})]})})]});}","map":{"version":3,"names":["useState","useEffect","useParams","useNavigate","axios","DragDropContext","Droppable","Draggable","ArrowLeft","Plus","Settings","MoreVertical","Calendar","User","UserIcon","AlertCircle","Pencil","Trash2","Button","Dialog","DialogContent","DialogHeader","DialogTitle","DialogTrigger","Input","Label","Textarea","Select","SelectContent","SelectItem","SelectTrigger","SelectValue","toast","jsx","_jsx","jsxs","_jsxs","BACKEND_URL","process","env","REACT_APP_BACKEND_URL","priorityColors","low","medium","high","BoardView","_editingColumn$wip_li","_showAnswerDialog$com","boardId","navigate","board","setBoard","columns","setColumns","cards","setCards","loading","setLoading","showAddCard","setShowAddCard","showCardDetail","setShowCardDetail","showEditCard","setShowEditCard","showColumnSettings","setShowColumnSettings","showBoardSettings","setShowBoardSettings","showEditBoard","setShowEditBoard","editingBoard","setEditingBoard","showQuestionDialog","setShowQuestionDialog","showAnswerDialog","setShowAnswerDialog","editingColumn","setEditingColumn","newColumn","setNewColumn","name","wip_limit","color","newQuestion","setNewQuestion","newAnswer","setNewAnswer","newCard","setNewCard","title","description","priority","due_date","fetchBoardData","boardRes","columnsRes","cardsRes","Promise","all","get","concat","withCredentials","data","error","console","handleAddCard","columnId","trim","post","success","handleUpdateColumn","put","column_id","parseInt","handleAddColumn","openColumnSettings","column","_column$wip_limit","log","_objectSpread","handleAskQuestion","questionsColumn","find","c","handleAnswerQuestion","questionCard","card_id","text","comments","openAnswerDialog","handleEditCard","card","split","handleUpdateCard","_showEditCard$title","handleDeleteCard","cardId","cardTitle","window","confirm","delete","handleEditBoard","handleUpdateBoard","_editingBoard$name","handleDragEnd","result","source","destination","draggableId","droppableId","index","sourceColumn","destColumn","movedCard","newCards","map","getCardsForColumn","filter","className","children","variant","size","onClick","style","fontFamily","onDragEnd","columnCards","isWipLimitReached","length","isQuestionsColumn","backgroundColor","Date","created_at","toLocaleDateString","toLocaleTimeString","hour","minute","answer_count","provided","snapshot","ref","innerRef","droppableProps","isDraggingOver","draggableProps","isDropAnimating","transitionDuration","dragHandleProps","isDragging","e","stopPropagation","assigned_to","placeholder","open","onOpenChange","asChild","disabled","id","htmlFor","value","onChange","target","onValueChange","type","min","col","comment","idx"],"sources":["/Users/mrinmayee/TGPTaskflow/frontend/src/pages/BoardView.js"],"sourcesContent":["import { useState, useEffect } from \"react\";\nimport { useParams, useNavigate } from \"react-router-dom\";\nimport axios from \"axios\";\nimport { DragDropContext, Droppable, Draggable } from \"@hello-pangea/dnd\";\nimport { ArrowLeft, Plus, Settings, MoreVertical, Calendar, User as UserIcon, AlertCircle, Pencil, Trash2 } from \"lucide-react\";\nimport { Button } from \"components/ui/button\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from \"components/ui/dialog\";\nimport { Input } from \"components/ui/input\";\nimport { Label } from \"components/ui/label\";\nimport { Textarea } from \"components/ui/textarea\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"components/ui/select\";\nimport { toast } from \"sonner\";\n\nconst BACKEND_URL = process.env.REACT_APP_BACKEND_URL;\n\nconst priorityColors = {\n  low: \"bg-[#10B981] text-white\",\n  medium: \"bg-[#F59E0B] text-white\",\n  high: \"bg-[#EF4444] text-white\"\n};\n\nexport default function BoardView() {\n  const { boardId } = useParams();\n  const navigate = useNavigate();\n  const [board, setBoard] = useState(null);\n  const [columns, setColumns] = useState([]);\n  const [cards, setCards] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showAddCard, setShowAddCard] = useState(null);\n  const [showCardDetail, setShowCardDetail] = useState(null);\n  const [showEditCard, setShowEditCard] = useState(null);\n  const [showColumnSettings, setShowColumnSettings] = useState(null);\n  const [showBoardSettings, setShowBoardSettings] = useState(false);\n  const [showEditBoard, setShowEditBoard] = useState(false);\n  const [editingBoard, setEditingBoard] = useState(null);\n  const [showQuestionDialog, setShowQuestionDialog] = useState(false);\n  const [showAnswerDialog, setShowAnswerDialog] = useState(null);\n  const [editingColumn, setEditingColumn] = useState(null);\n  const [newColumn, setNewColumn] = useState({\n    name: \"\",\n    wip_limit: \"\",\n    color: \"#64748B\"\n  });\n  const [newQuestion, setNewQuestion] = useState(\"\");\n  const [newAnswer, setNewAnswer] = useState(\"\");\n  const [newCard, setNewCard] = useState({\n    title: \"\",\n    description: \"\",\n    priority: \"medium\",\n    due_date: \"\"\n  });\n\n  useEffect(() => {\n    fetchBoardData();\n  }, [boardId]);\n\n  const fetchBoardData = async () => {\n    try {\n      const [boardRes, columnsRes, cardsRes] = await Promise.all([\n        axios.get(`${BACKEND_URL}/api/boards/${boardId}`, { withCredentials: true }),\n        axios.get(`${BACKEND_URL}/api/boards/${boardId}/columns`, { withCredentials: true }),\n        axios.get(`${BACKEND_URL}/api/boards/${boardId}/cards`, { withCredentials: true })\n      ]);\n      setBoard(boardRes.data);\n      setColumns(columnsRes.data);\n      setCards(cardsRes.data);\n    } catch (error) {\n      console.error(\"Failed to fetch board:\", error);\n      toast.error(\"Failed to load board\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleAddCard = async (columnId) => {\n    if (!newCard.title.trim()) {\n      toast.error(\"Card title is required\");\n      return;\n    }\n\n    try {\n      await axios.post(\n        `${BACKEND_URL}/api/boards/${boardId}/columns/${columnId}/cards`,\n        newCard,\n        { withCredentials: true }\n      );\n      toast.success(\"Card created\");\n      setShowAddCard(null);\n      setNewCard({ title: \"\", description: \"\", priority: \"medium\", due_date: \"\" });\n      fetchBoardData();\n    } catch (error) {\n      console.error(\"Failed to create card:\", error);\n      toast.error(\"Failed to create card\");\n    }\n  };\n\n  const handleUpdateColumn = async () => {\n    if (!editingColumn) return;\n\n    try {\n      await axios.put(\n        `${BACKEND_URL}/api/columns/${editingColumn.column_id}`,\n        {\n          name: editingColumn.name,\n          wip_limit: editingColumn.wip_limit === \"\" ? null : parseInt(editingColumn.wip_limit),\n          color: editingColumn.color\n        },\n        { withCredentials: true }\n      );\n      toast.success(\"Column updated\");\n      setShowColumnSettings(null);\n      setEditingColumn(null);\n      fetchBoardData();\n    } catch (error) {\n      console.error(\"Failed to update column:\", error);\n      toast.error(\"Failed to update column\");\n    }\n  };\n\n  const handleAddColumn = async () => {\n    if (!newColumn.name.trim()) {\n      toast.error(\"Column name is required\");\n      return;\n    }\n\n    try {\n      await axios.post(\n        `${BACKEND_URL}/api/boards/${boardId}/columns`,\n        {\n          name: newColumn.name,\n          wip_limit: newColumn.wip_limit === \"\" ? null : parseInt(newColumn.wip_limit),\n          color: newColumn.color\n        },\n        { withCredentials: true }\n      );\n      toast.success(\"Column added\");\n      setShowBoardSettings(false);\n      setNewColumn({ name: \"\", wip_limit: \"\", color: \"#64748B\" });\n      fetchBoardData();\n    } catch (error) {\n      console.error(\"Failed to add column:\", error);\n      toast.error(\"Failed to add column\");\n    }\n  };\n\n  const openColumnSettings = (column) => {\n    try {\n      console.log(\"Opening column settings for:\", column);\n      setEditingColumn({\n        ...column,\n        wip_limit: column.wip_limit ?? \"\"\n      });\n      setShowColumnSettings(column.column_id);\n    } catch (error) {\n      console.error(\"Error opening column settings:\", error);\n      toast.error(\"Failed to open column settings\");\n    }\n  };\n\n  const handleAskQuestion = async () => {\n    if (!newQuestion.trim()) {\n      toast.error(\"Question cannot be empty\");\n      return;\n    }\n\n    const questionsColumn = columns.find(c => c.name === \"Questions\");\n    if (!questionsColumn) {\n      toast.error(\"Questions column not found\");\n      return;\n    }\n\n    try {\n      await axios.post(\n        `${BACKEND_URL}/api/boards/${boardId}/columns/${questionsColumn.column_id}/cards`,\n        {\n          title: newQuestion,\n          description: \"\",\n          priority: \"medium\"\n        },\n        { withCredentials: true }\n      );\n      toast.success(\"Question posted\");\n      setShowQuestionDialog(false);\n      setNewQuestion(\"\");\n      fetchBoardData();\n    } catch (error) {\n      console.error(\"Failed to post question:\", error);\n      toast.error(\"Failed to post question\");\n    }\n  };\n\n  const handleAnswerQuestion = async (questionCard) => {\n    if (!newAnswer.trim()) {\n      toast.error(\"Answer cannot be empty\");\n      return;\n    }\n\n    try {\n      await axios.post(\n        `${BACKEND_URL}/api/cards/${questionCard.card_id}/comments`,\n        { text: newAnswer },\n        { withCredentials: true }\n      );\n      toast.success(\"Answer posted\");\n      setNewAnswer(\"\");\n      // Fetch updated comments\n      const comments = await axios.get(\n        `${BACKEND_URL}/api/cards/${questionCard.card_id}/comments`,\n        { withCredentials: true }\n      );\n      setShowAnswerDialog({ ...questionCard, comments: comments.data });\n    } catch (error) {\n      console.error(\"Failed to post answer:\", error);\n      toast.error(\"Failed to post answer\");\n    }\n  };\n\n  const openAnswerDialog = async (questionCard) => {\n    try {\n      const comments = await axios.get(\n        `${BACKEND_URL}/api/cards/${questionCard.card_id}/comments`,\n        { withCredentials: true }\n      );\n      setShowAnswerDialog({ ...questionCard, comments: comments.data });\n    } catch (error) {\n      console.error(\"Failed to fetch answers:\", error);\n      setShowAnswerDialog({ ...questionCard, comments: [] });\n    }\n  };\n\n  const handleEditCard = (card) => {\n    setShowEditCard({\n      ...card,\n      due_date: card.due_date ? card.due_date.split('T')[0] : \"\"\n    });\n  };\n\n  const handleUpdateCard = async () => {\n    if (!showEditCard?.title?.trim()) {\n      toast.error(\"Card title is required\");\n      return;\n    }\n\n    try {\n      await axios.put(\n        `${BACKEND_URL}/api/cards/${showEditCard.card_id}`,\n        {\n          title: showEditCard.title,\n          description: showEditCard.description,\n          priority: showEditCard.priority,\n          due_date: showEditCard.due_date || null\n        },\n        { withCredentials: true }\n      );\n      toast.success(\"Card updated\");\n      setShowEditCard(null);\n      fetchBoardData();\n    } catch (error) {\n      console.error(\"Failed to update card:\", error);\n      toast.error(\"Failed to update card\");\n    }\n  };\n\n  const handleDeleteCard = async (cardId, cardTitle) => {\n    if (!window.confirm(`Are you sure you want to delete \"${cardTitle}\"? This action cannot be undone.`)) {\n      return;\n    }\n\n    try {\n      await axios.delete(\n        `${BACKEND_URL}/api/cards/${cardId}`,\n        { withCredentials: true }\n      );\n      toast.success(\"Card deleted\");\n      fetchBoardData();\n    } catch (error) {\n      console.error(\"Failed to delete card:\", error);\n      toast.error(\"Failed to delete card\");\n    }\n  };\n\n  const handleEditBoard = () => {\n    setEditingBoard({\n      name: board?.name || \"\",\n      description: board?.description || \"\"\n    });\n    setShowEditBoard(true);\n  };\n\n  const handleUpdateBoard = async () => {\n    if (!editingBoard?.name?.trim()) {\n      toast.error(\"Board name is required\");\n      return;\n    }\n\n    try {\n      await axios.put(\n        `${BACKEND_URL}/api/boards/${boardId}`,\n        {\n          name: editingBoard.name,\n          description: editingBoard.description\n        },\n        { withCredentials: true }\n      );\n      toast.success(\"Board updated\");\n      setShowEditBoard(false);\n      setEditingBoard(null);\n      fetchBoardData();\n    } catch (error) {\n      console.error(\"Failed to update board:\", error);\n      toast.error(\"Failed to update board\");\n    }\n  };\n\n  const handleDragEnd = async (result) => {\n    const { source, destination, draggableId } = result;\n\n    if (!destination) return;\n    if (source.droppableId === destination.droppableId && source.index === destination.index) return;\n\n    // Get column names to check for Questions column\n    const sourceColumn = columns.find(c => c.column_id === source.droppableId);\n    const destColumn = columns.find(c => c.column_id === destination.droppableId);\n\n    // Prevent dragging to/from Questions column\n    if (sourceColumn?.name === \"Questions\" || destColumn?.name === \"Questions\") {\n      toast.error(\"Questions cannot be moved to other columns\");\n      return;\n    }\n\n    // Create new cards array with the card moved to its new position\n    const movedCard = cards.find(card => card.card_id === draggableId);\n    if (!movedCard) return;\n\n    // Build the new cards array with proper ordering\n    const newCards = cards.map(card => {\n      if (card.card_id === draggableId) {\n        return { ...card, column_id: destination.droppableId };\n      }\n      return card;\n    });\n    \n    // Immediately update state for smooth UI (optimistic update)\n    setCards(newCards);\n\n    // Then update backend silently - DO NOT refetch to avoid visual glitch\n    try {\n      await axios.put(\n        `${BACKEND_URL}/api/cards/${draggableId}`,\n        { column_id: destination.droppableId },\n        { withCredentials: true }\n      );\n      // Success - no need to refetch, optimistic update is already correct\n    } catch (error) {\n      console.error(\"Failed to move card:\", error);\n      // Revert on error by refetching\n      fetchBoardData();\n      toast.error(\"Failed to move card\");\n    }\n  };\n\n  const getCardsForColumn = (columnId) => {\n    return cards.filter(card => card.column_id === columnId);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen flex items-center justify-center bg-[#F8FAFC]\">\n        <div className=\"text-center\">\n          <div className=\"inline-block h-12 w-12 animate-spin rounded-full border-4 border-solid border-[#2E5C38] border-r-transparent\"></div>\n          <p className=\"mt-4 text-[#475569]\">Loading board...</p>\n        </div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-[#F8FAFC]\">\n      <nav className=\"bg-white border-b border-[#E2E8F0] sticky top-0 z-50 backdrop-blur-md bg-white/80\">\n        <div className=\"container mx-auto px-6 py-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-4\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => navigate(\"/dashboard\")}\n                data-testid=\"back-to-dashboard\"\n              >\n                <ArrowLeft className=\"w-5 h-5\" />\n              </Button>\n              <div className=\"flex-1\">\n                <h1 className=\"text-2xl font-bold text-[#1E293B]\" style={{ fontFamily: 'Manrope' }}>\n                  {board?.name}\n                </h1>\n                {board?.description && (\n                  <p \n                    className=\"text-sm text-[#475569]\"\n                    title={board.description}\n                  >\n                    {board.description}\n                  </p>\n                )}\n              </div>\n            </div>\n            <div className=\"flex gap-2\">\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={handleEditBoard}\n                data-testid=\"edit-board-button\"\n                title=\"Edit Board\"\n              >\n                <Pencil className=\"w-5 h-5\" />\n              </Button>\n              <Button\n                variant=\"ghost\"\n                size=\"icon\"\n                onClick={() => setShowBoardSettings(true)}\n                data-testid=\"board-settings\"\n                title=\"Board Settings\"\n              >\n                <Settings className=\"w-5 h-5\" />\n              </Button>\n            </div>\n          </div>\n        </div>\n      </nav>\n\n      <div className=\"p-6 overflow-x-auto kanban-scrollbar\">\n        <DragDropContext onDragEnd={handleDragEnd}>\n          <div className=\"flex gap-6 min-w-max pb-4\">\n            {columns.map((column) => {\n              const columnCards = getCardsForColumn(column.column_id);\n              const isWipLimitReached = column.wip_limit && columnCards.length >= column.wip_limit;\n              const isQuestionsColumn = column.name === \"Questions\";\n\n              return (\n                <div key={column.column_id} className=\"flex-shrink-0 w-[320px]\">\n                  <div className=\"bg-white rounded-lg border border-[#E2E8F0] p-4\">\n                    <div className=\"flex items-center justify-between mb-4\">\n                      <div className=\"flex items-center gap-2\">\n                        <div\n                          className=\"w-3 h-3 rounded-full\"\n                          style={{ backgroundColor: column.color }}\n                        ></div>\n                        <h3 className=\"font-semibold text-[#1E293B]\" style={{ fontFamily: 'Manrope' }}>\n                          {column.name}\n                        </h3>\n                        <span className=\"text-sm text-[#64748B]\">\n                          {columnCards.length}\n                          {column.wip_limit && ` / ${column.wip_limit}`}\n                        </span>\n                      </div>\n                      {!isQuestionsColumn && (\n                        <Button \n                          variant=\"ghost\" \n                          size=\"icon\" \n                          className=\"h-8 w-8\"\n                          onClick={() => openColumnSettings(column)}\n                          data-testid={`column-settings-${column.column_id}`}\n                        >\n                          <MoreVertical className=\"w-4 h-4\" />\n                        </Button>\n                      )}\n                    </div>\n\n                    {isWipLimitReached && (\n                      <div className=\"bg-[#FEF3C7] border border-[#F59E0B] rounded p-2 mb-3 flex items-center gap-2\">\n                        <AlertCircle className=\"w-4 h-4 text-[#F59E0B]\" />\n                        <span className=\"text-xs text-[#92400E]\">WIP limit reached</span>\n                      </div>\n                    )}\n\n                    {isQuestionsColumn ? (\n                      <div className=\"space-y-3 min-h-[100px]\">\n                        {columnCards.map((card, index) => (\n                          <div\n                            key={card.card_id}\n                            className=\"bg-[#F5F3FF] border border-[#8B5CF6] rounded-lg p-4\"\n                            data-testid={`question-${card.card_id}`}\n                          >\n                            <div className=\"flex items-start gap-2 mb-2\">\n                              <div className=\"w-6 h-6 rounded-full bg-[#8B5CF6] flex items-center justify-center flex-shrink-0\">\n                                <span className=\"text-white text-xs font-bold\">Q</span>\n                              </div>\n                              <div className=\"flex-1\">\n                                <p className=\"font-medium text-[#1E293B] text-sm\">{card.title}</p>\n                                <p className=\"text-xs text-[#64748B] mt-1\">\n                                  {new Date(card.created_at).toLocaleDateString()} at {new Date(card.created_at).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\n                                </p>\n                              </div>\n                            </div>\n                            <Button\n                              variant=\"outline\"\n                              size=\"sm\"\n                              className=\"w-full mt-2 text-[#8B5CF6] border-[#8B5CF6] hover:bg-[#8B5CF6] hover:text-white\"\n                              onClick={() => openAnswerDialog(card)}\n                              data-testid={`answer-question-${card.card_id}`}\n                            >\n                              View Answers ({card.answer_count || 0})\n                            </Button>\n                          </div>\n                        ))}\n                        <Button\n                          variant=\"ghost\"\n                          className=\"w-full text-[#8B5CF6] hover:text-[#8B5CF6] hover:bg-[#F5F3FF]\"\n                          onClick={() => setShowQuestionDialog(true)}\n                          data-testid=\"ask-question-button\"\n                        >\n                          <Plus className=\"w-4 h-4 mr-2\" />\n                          Ask Question\n                        </Button>\n                      </div>\n                    ) : (\n                      <Droppable droppableId={column.column_id}>\n                        {(provided, snapshot) => (\n                          <div\n                            ref={provided.innerRef}\n                            {...provided.droppableProps}\n                            className={`space-y-3 min-h-[100px] ${\n                              snapshot.isDraggingOver ? 'bg-[#E2E8F0]/30 rounded-lg p-2' : ''\n                            }`}\n                          >\n                          {columnCards.map((card, index) => (\n                            <Draggable key={card.card_id} draggableId={card.card_id} index={index}>\n                              {(provided, snapshot) => {\n                                // Disable drop animation by removing transform transition\n                                const style = {\n                                  ...provided.draggableProps.style,\n                                };\n                                \n                                // When dropping, skip the animation entirely\n                                if (snapshot.isDropAnimating) {\n                                  style.transitionDuration = '0.001s';\n                                }\n                                \n                                return (\n                                <div\n                                  ref={provided.innerRef}\n                                  {...provided.draggableProps}\n                                  {...provided.dragHandleProps}\n                                  className={`bg-white border border-[#E2E8F0] rounded-lg p-4 cursor-pointer hover:border-[#2E5C38] group relative ${\n                                    snapshot.isDragging ? 'card-dragging' : ''\n                                  }`}\n                                  style={style}\n                                  data-testid={`card-${card.card_id}`}\n                                >\n                                  <div className=\"flex items-start justify-between mb-2\">\n                                    <h4 className=\"font-medium text-[#1E293B] flex-1 pr-2\" onClick={() => setShowCardDetail(card)}>{card.title}</h4>\n                                    <div className=\"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity\">\n                                      <Button\n                                        variant=\"ghost\"\n                                        size=\"icon\"\n                                        className=\"h-6 w-6 text-[#64748B] hover:text-[#2E5C38] hover:bg-[#2E5C38]/10\"\n                                        onClick={(e) => {\n                                          e.stopPropagation();\n                                          handleEditCard(card);\n                                        }}\n                                        data-testid={`edit-card-${card.card_id}`}\n                                      >\n                                        <Pencil className=\"w-3 h-3\" />\n                                      </Button>\n                                      <Button\n                                        variant=\"ghost\"\n                                        size=\"icon\"\n                                        className=\"h-6 w-6 text-[#64748B] hover:text-[#EF4444] hover:bg-[#FEE2E2]\"\n                                        onClick={(e) => {\n                                          e.stopPropagation();\n                                          handleDeleteCard(card.card_id, card.title);\n                                        }}\n                                        data-testid={`delete-card-${card.card_id}`}\n                                      >\n                                        <Trash2 className=\"w-3 h-3\" />\n                                      </Button>\n                                    </div>\n                                    <span className={`text-xs px-2 py-1 rounded ${priorityColors[card.priority]}`}>\n                                      {card.priority}\n                                    </span>\n                                  </div>\n                                  {card.description && (\n                                    <p \n                                      className=\"text-sm text-[#475569] mb-3 line-clamp-2\"\n                                      title={card.description}\n                                    >\n                                      {card.description}\n                                    </p>\n                                  )}\n                                  <div className=\"flex items-center gap-3 text-xs text-[#64748B]\">\n                                    {card.due_date && (\n                                      <div className=\"flex items-center gap-1\">\n                                        <Calendar className=\"w-3 h-3\" />\n                                        <span>{new Date(card.due_date).toLocaleDateString()}</span>\n                                      </div>\n                                    )}\n                                    {card.assigned_to && (\n                                      <div className=\"flex items-center gap-1\">\n                                        <UserIcon className=\"w-3 h-3\" />\n                                      </div>\n                                    )}\n                                  </div>\n                                </div>\n                                );\n                              }}\n                            </Draggable>\n                          ))}\n                          {provided.placeholder}\n                        </div>\n                      )}\n                    </Droppable>\n                    )}\n\n                    {!isQuestionsColumn && (\n                      <Dialog\n                        open={showAddCard === column.column_id}\n                        onOpenChange={(open) => setShowAddCard(open ? column.column_id : null)}\n                      >\n                        <DialogTrigger asChild>\n                          <Button\n                            variant=\"ghost\"\n                            className=\"w-full mt-3 text-[#475569] hover:text-[#2E5C38] hover:bg-[#2E5C38]/5\"\n                            data-testid={`add-card-${column.column_id}`}\n                            disabled={isWipLimitReached}\n                          >\n                            <Plus className=\"w-4 h-4 mr-2\" />\n                            Add Card\n                          </Button>\n                        </DialogTrigger>\n                      <DialogContent aria-describedby=\"create-card-description\">\n                        <DialogHeader>\n                          <DialogTitle style={{ fontFamily: 'Manrope' }}>Create New Card</DialogTitle>\n                        </DialogHeader>\n                        <p id=\"create-card-description\" className=\"sr-only\">Create a new card with title, description, priority, and due date</p>\n                        <div className=\"space-y-4 mt-4\">\n                          <div>\n                            <Label htmlFor=\"card-title\">Title</Label>\n                            <Input\n                              id=\"card-title\"\n                              data-testid=\"card-title-input\"\n                              value={newCard.title}\n                              onChange={(e) => setNewCard({ ...newCard, title: e.target.value })}\n                              placeholder=\"Card title\"\n                              className=\"focus:ring-[#2E5C38]\"\n                            />\n                          </div>\n                          <div>\n                            <Label htmlFor=\"card-description\">Description</Label>\n                            <Textarea\n                              id=\"card-description\"\n                              data-testid=\"card-description-input\"\n                              value={newCard.description}\n                              onChange={(e) => setNewCard({ ...newCard, description: e.target.value })}\n                              placeholder=\"Card description\"\n                              className=\"focus:ring-[#2E5C38]\"\n                            />\n                          </div>\n                          <div>\n                            <Label htmlFor=\"card-priority\">Priority</Label>\n                            <Select\n                              value={newCard.priority}\n                              onValueChange={(value) => setNewCard({ ...newCard, priority: value })}\n                            >\n                              <SelectTrigger data-testid=\"card-priority-select\">\n                                <SelectValue />\n                              </SelectTrigger>\n                              <SelectContent>\n                                <SelectItem value=\"low\">Low</SelectItem>\n                                <SelectItem value=\"medium\">Medium</SelectItem>\n                                <SelectItem value=\"high\">High</SelectItem>\n                              </SelectContent>\n                            </Select>\n                          </div>\n                          <div>\n                            <Label htmlFor=\"card-due-date\">Due Date</Label>\n                            <Input\n                              id=\"card-due-date\"\n                              data-testid=\"card-due-date-input\"\n                              type=\"date\"\n                              value={newCard.due_date}\n                              onChange={(e) => setNewCard({ ...newCard, due_date: e.target.value })}\n                              className=\"focus:ring-[#2E5C38]\"\n                            />\n                          </div>\n                          <Button\n                            onClick={() => handleAddCard(column.column_id)}\n                            data-testid=\"create-card-submit\"\n                            className=\"w-full bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\"\n                          >\n                            Create Card\n                          </Button>\n                        </div>\n                      </DialogContent>\n                    </Dialog>\n                    )}\n                  </div>\n                </div>\n              );\n            })}\n          </div>\n        </DragDropContext>\n      </div>\n\n      {/* Card detail dialog will be added separately */}\n\n      {showCardDetail && (\n        <Dialog open={!!showCardDetail} onOpenChange={() => setShowCardDetail(null)}>\n          <DialogContent className=\"max-w-2xl\" aria-describedby=\"card-detail-description\">\n            <DialogHeader>\n              <DialogTitle style={{ fontFamily: 'Manrope' }}>{showCardDetail?.title || \"Card Details\"}</DialogTitle>\n            </DialogHeader>\n            <p id=\"card-detail-description\" className=\"sr-only\">View detailed information about this card</p>\n            <div className=\"space-y-4 mt-4\">\n              <div>\n                <Label>Description</Label>\n                <p className=\"text-[#475569] mt-2\">{showCardDetail?.description || \"No description\"}</p>\n              </div>\n              <div className=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <Label>Priority</Label>\n                  <span className={`inline-block mt-2 text-xs px-3 py-1 rounded ${priorityColors[showCardDetail?.priority || 'medium']}`}>\n                    {showCardDetail?.priority || 'medium'}\n                  </span>\n                </div>\n                {showCardDetail?.due_date && (\n                  <div>\n                    <Label>Due Date</Label>\n                    <p className=\"text-[#475569] mt-2\">{new Date(showCardDetail.due_date).toLocaleDateString()}</p>\n                  </div>\n                )}\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n\n      {showEditCard && (\n        <Dialog open={!!showEditCard} onOpenChange={() => setShowEditCard(null)}>\n          <DialogContent aria-describedby=\"edit-card-description\">\n            <DialogHeader>\n              <DialogTitle style={{ fontFamily: 'Manrope' }}>Edit Card</DialogTitle>\n            </DialogHeader>\n            <p id=\"edit-card-description\" className=\"sr-only\">Edit card details including title, description, priority, and due date</p>\n            <div className=\"space-y-4 mt-4\">\n              <div>\n                <Label htmlFor=\"edit-card-title\">Title</Label>\n                <Input\n                  id=\"edit-card-title\"\n                  data-testid=\"edit-card-title-input\"\n                  value={showEditCard?.title || \"\"}\n                  onChange={(e) => setShowEditCard({ ...showEditCard, title: e.target.value })}\n                  placeholder=\"Card title\"\n                  className=\"focus:ring-[#2E5C38]\"\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"edit-card-description\">Description</Label>\n                <Textarea\n                  id=\"edit-card-description\"\n                  data-testid=\"edit-card-description-input\"\n                  value={showEditCard?.description || \"\"}\n                  onChange={(e) => setShowEditCard({ ...showEditCard, description: e.target.value })}\n                  placeholder=\"Card description\"\n                  className=\"focus:ring-[#2E5C38]\"\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"edit-card-priority\">Priority</Label>\n                <Select\n                  value={showEditCard?.priority || \"medium\"}\n                  onValueChange={(value) => setShowEditCard({ ...showEditCard, priority: value })}\n                >\n                  <SelectTrigger data-testid=\"edit-card-priority-select\">\n                    <SelectValue />\n                  </SelectTrigger>\n                  <SelectContent>\n                    <SelectItem value=\"low\">Low</SelectItem>\n                    <SelectItem value=\"medium\">Medium</SelectItem>\n                    <SelectItem value=\"high\">High</SelectItem>\n                  </SelectContent>\n                </Select>\n              </div>\n              <div>\n                <Label htmlFor=\"edit-card-due-date\">Due Date</Label>\n                <Input\n                  id=\"edit-card-due-date\"\n                  data-testid=\"edit-card-due-date-input\"\n                  type=\"date\"\n                  value={showEditCard?.due_date || \"\"}\n                  onChange={(e) => setShowEditCard({ ...showEditCard, due_date: e.target.value })}\n                  className=\"focus:ring-[#2E5C38]\"\n                />\n              </div>\n              <Button\n                onClick={handleUpdateCard}\n                data-testid=\"update-card-submit\"\n                className=\"w-full bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\"\n              >\n                Update Card\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n\n      {showColumnSettings && editingColumn && (\n        <Dialog open={!!showColumnSettings} onOpenChange={(open) => {\n          if (!open) {\n            setShowColumnSettings(null);\n            setEditingColumn(null);\n          }\n        }}>\n          <DialogContent aria-describedby=\"column-settings-description\">\n            <DialogHeader>\n              <DialogTitle style={{ fontFamily: 'Manrope' }}>Column Settings</DialogTitle>\n            </DialogHeader>\n            <p id=\"column-settings-description\" className=\"sr-only\">Customize column name, color, and WIP limit</p>\n            <div className=\"space-y-4 mt-4\">\n              <div>\n                <Label htmlFor=\"column-name\">Column Name</Label>\n                <Input\n                  id=\"column-name\"\n                  data-testid=\"column-name-input\"\n                  value={editingColumn?.name || \"\"}\n                  onChange={(e) => setEditingColumn({ ...editingColumn, name: e.target.value })}\n                  placeholder=\"Column name\"\n                  className=\"focus:ring-[#2E5C38]\"\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"wip-limit\">WIP Limit (leave empty for unlimited)</Label>\n                <Input\n                  id=\"wip-limit\"\n                  data-testid=\"wip-limit-input\"\n                  type=\"number\"\n                  min=\"0\"\n                  value={editingColumn?.wip_limit ?? \"\"}\n                  onChange={(e) => setEditingColumn({ ...editingColumn, wip_limit: e.target.value })}\n                  placeholder=\"e.g., 5\"\n                  className=\"focus:ring-[#2E5C38]\"\n                />\n                <p className=\"text-xs text-[#64748B] mt-1\">\n                  Current: {editingColumn?.wip_limit || \"Unlimited\"} | Recommended for &quot;In Progress&quot;: 3-5\n                </p>\n              </div>\n              <div>\n                <Label htmlFor=\"column-color\">Column Color</Label>\n                <div className=\"flex gap-2 mt-2\">\n                  {[\"#64748B\", \"#3B82F6\", \"#F59E0B\", \"#10B981\", \"#EF4444\", \"#8B5CF6\", \"#EC4899\"].map((color) => (\n                    <button\n                      key={color}\n                      type=\"button\"\n                      onClick={() => setEditingColumn({ ...editingColumn, color })}\n                      className={`w-8 h-8 rounded-full border-2 transition-all duration-200 ${\n                        editingColumn?.color === color ? \"border-[#2E5C38] scale-110\" : \"border-transparent\"\n                      }`}\n                      style={{ backgroundColor: color }}\n                      data-testid={`color-${color}`}\n                    />\n                  ))}\n                </div>\n              </div>\n              <Button\n                onClick={handleUpdateColumn}\n                data-testid=\"save-column-settings\"\n                className=\"w-full bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\"\n              >\n                Save Changes\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n\n      {showBoardSettings && (\n        <Dialog open={showBoardSettings} onOpenChange={setShowBoardSettings}>\n          <DialogContent aria-describedby=\"board-settings-description\">\n            <DialogHeader>\n              <DialogTitle style={{ fontFamily: 'Manrope' }}>Board Settings</DialogTitle>\n            </DialogHeader>\n            <p id=\"board-settings-description\" className=\"sr-only\">Add new columns and manage board settings</p>\n            <div className=\"space-y-6 mt-4\">\n              <div className=\"border-b border-[#E2E8F0] pb-4\">\n                <h3 className=\"text-lg font-semibold text-[#1E293B] mb-4\" style={{ fontFamily: 'Manrope' }}>\n                  Add New Column\n                </h3>\n                <div className=\"space-y-4\">\n                  <div>\n                    <Label htmlFor=\"new-column-name\">Column Name</Label>\n                    <Input\n                      id=\"new-column-name\"\n                      data-testid=\"new-column-name-input\"\n                      value={newColumn.name}\n                      onChange={(e) => setNewColumn({ ...newColumn, name: e.target.value })}\n                      placeholder=\"e.g., Testing, Review, Blocked\"\n                      className=\"focus:ring-[#2E5C38]\"\n                    />\n                  </div>\n                  <div>\n                    <Label htmlFor=\"new-wip-limit\">WIP Limit (optional)</Label>\n                    <Input\n                      id=\"new-wip-limit\"\n                      data-testid=\"new-column-wip-input\"\n                      type=\"number\"\n                      min=\"0\"\n                      value={newColumn.wip_limit}\n                      onChange={(e) => setNewColumn({ ...newColumn, wip_limit: e.target.value })}\n                      placeholder=\"Leave empty for unlimited\"\n                      className=\"focus:ring-[#2E5C38]\"\n                    />\n                  </div>\n                  <div>\n                    <Label>Column Color</Label>\n                    <div className=\"flex gap-2 mt-2\">\n                      {[\"#64748B\", \"#3B82F6\", \"#F59E0B\", \"#10B981\", \"#EF4444\", \"#8B5CF6\", \"#EC4899\"].map((color) => (\n                        <button\n                          key={color}\n                          onClick={() => setNewColumn({ ...newColumn, color })}\n                          className={`w-8 h-8 rounded-full border-2 transition-all duration-200 ${\n                            newColumn.color === color ? \"border-[#2E5C38] scale-110\" : \"border-transparent\"\n                          }`}\n                          style={{ backgroundColor: color }}\n                          data-testid={`new-color-${color}`}\n                        />\n                      ))}\n                    </div>\n                  </div>\n                  <Button\n                    onClick={handleAddColumn}\n                    data-testid=\"add-column-submit\"\n                    className=\"w-full bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\"\n                  >\n                    <Plus className=\"w-4 h-4 mr-2\" />\n                    Add Column\n                  </Button>\n                </div>\n              </div>\n\n              <div>\n                <h3 className=\"text-lg font-semibold text-[#1E293B] mb-2\" style={{ fontFamily: 'Manrope' }}>\n                  Current Columns\n                </h3>\n                <p className=\"text-sm text-[#64748B] mb-3\">\n                  Click the 3-dot menu on each column to edit or delete\n                </p>\n                <div className=\"space-y-2\">\n                  {columns.map((col) => (\n                    <div key={col.column_id} className=\"flex items-center justify-between p-3 bg-[#F8FAFC] rounded-lg\">\n                      <div className=\"flex items-center gap-3\">\n                        <div className=\"w-4 h-4 rounded-full\" style={{ backgroundColor: col.color }}></div>\n                        <span className=\"font-medium text-[#1E293B]\">{col.name}</span>\n                        {col.wip_limit && (\n                          <span className=\"text-xs text-[#64748B]\">Limit: {col.wip_limit}</span>\n                        )}\n                      </div>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n\n      {showQuestionDialog && (\n        <Dialog open={showQuestionDialog} onOpenChange={setShowQuestionDialog}>\n          <DialogContent aria-describedby=\"ask-question-description\">\n            <DialogHeader>\n              <DialogTitle style={{ fontFamily: 'Manrope' }}>Ask a Question</DialogTitle>\n            </DialogHeader>\n            <p id=\"ask-question-description\" className=\"sr-only\">Post a question for your team to answer</p>\n            <div className=\"space-y-4 mt-4\">\n              <div>\n                <Label htmlFor=\"question-text\">Your Question</Label>\n                <Textarea\n                  id=\"question-text\"\n                  data-testid=\"question-text-input\"\n                  value={newQuestion}\n                  onChange={(e) => setNewQuestion(e.target.value)}\n                  placeholder=\"What would you like to know?\"\n                  className=\"focus:ring-[#8B5CF6] min-h-[100px]\"\n                />\n              </div>\n              <Button\n                onClick={handleAskQuestion}\n                data-testid=\"submit-question\"\n                className=\"w-full bg-[#8B5CF6] hover:bg-[#8B5CF6]/90 text-white\"\n              >\n                Post Question\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n\n      {showAnswerDialog && (\n        <Dialog open={!!showAnswerDialog} onOpenChange={() => setShowAnswerDialog(null)}>\n          <DialogContent className=\"max-w-2xl\" aria-describedby=\"answer-question-description\">\n            <DialogHeader>\n              <DialogTitle style={{ fontFamily: 'Manrope' }}>Question & Answers</DialogTitle>\n            </DialogHeader>\n            <p id=\"answer-question-description\" className=\"sr-only\">View and post answers to this question</p>\n            <div className=\"space-y-4 mt-4\">\n              <div className=\"bg-[#F5F3FF] border border-[#8B5CF6] rounded-lg p-4\">\n                <div className=\"flex items-start gap-2\">\n                  <div className=\"w-8 h-8 rounded-full bg-[#8B5CF6] flex items-center justify-center flex-shrink-0\">\n                    <span className=\"text-white font-bold\">Q</span>\n                  </div>\n                  <div className=\"flex-1\">\n                    <p className=\"font-medium text-[#1E293B]\">{showAnswerDialog.title}</p>\n                    <p className=\"text-xs text-[#64748B] mt-1\">\n                      Asked on {new Date(showAnswerDialog.created_at).toLocaleDateString()}\n                    </p>\n                  </div>\n                </div>\n              </div>\n\n              <div>\n                <h4 className=\"font-semibold text-[#1E293B] mb-3\" style={{ fontFamily: 'Manrope' }}>\n                  Answers ({showAnswerDialog.comments?.length || 0})\n                </h4>\n                <div className=\"space-y-3 max-h-[300px] overflow-y-auto\">\n                  {showAnswerDialog.comments && showAnswerDialog.comments.length > 0 ? (\n                    showAnswerDialog.comments.map((comment, idx) => (\n                      <div key={idx} className=\"bg-[#F8FAFC] border border-[#E2E8F0] rounded-lg p-3\">\n                        <div className=\"flex items-start gap-2\">\n                          <div className=\"w-6 h-6 rounded-full bg-[#2E5C38] flex items-center justify-center flex-shrink-0\">\n                            <span className=\"text-white text-xs font-bold\">A</span>\n                          </div>\n                          <div className=\"flex-1\">\n                            <p className=\"text-sm text-[#1E293B]\">{comment.text}</p>\n                            <p className=\"text-xs text-[#64748B] mt-1\">\n                              {new Date(comment.created_at).toLocaleDateString()} at {new Date(comment.created_at).toLocaleTimeString([], {hour: '2-digit', minute:'2-digit'})}\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  ) : (\n                    <p className=\"text-sm text-[#64748B] text-center py-4\">No answers yet. Be the first to answer!</p>\n                  )}\n                </div>\n              </div>\n\n              <div>\n                <Label htmlFor=\"answer-text\">Your Answer</Label>\n                <Textarea\n                  id=\"answer-text\"\n                  data-testid=\"answer-text-input\"\n                  value={newAnswer}\n                  onChange={(e) => setNewAnswer(e.target.value)}\n                  placeholder=\"Share your knowledge...\"\n                  className=\"focus:ring-[#2E5C38] mt-2\"\n                />\n                <Button\n                  onClick={() => handleAnswerQuestion(showAnswerDialog)}\n                  data-testid=\"submit-answer\"\n                  className=\"w-full mt-3 bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\"\n                >\n                  Post Answer\n                </Button>\n              </div>\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n\n      {showEditBoard && editingBoard && (\n        <Dialog open={showEditBoard} onOpenChange={setShowEditBoard}>\n          <DialogContent aria-describedby=\"edit-board-description\">\n            <DialogHeader>\n              <DialogTitle style={{ fontFamily: 'Manrope' }}>Edit Board</DialogTitle>\n            </DialogHeader>\n            <p id=\"edit-board-description\" className=\"sr-only\">Edit board name and description</p>\n            <div className=\"space-y-4 mt-4\">\n              <div>\n                <Label htmlFor=\"edit-board-name\">Board Name</Label>\n                <Input\n                  id=\"edit-board-name\"\n                  data-testid=\"edit-board-name-input\"\n                  value={editingBoard?.name || \"\"}\n                  onChange={(e) => setEditingBoard({ ...editingBoard, name: e.target.value })}\n                  placeholder=\"Board name\"\n                  className=\"focus:ring-[#2E5C38]\"\n                />\n              </div>\n              <div>\n                <Label htmlFor=\"edit-board-description\">Description</Label>\n                <Textarea\n                  id=\"edit-board-description\"\n                  data-testid=\"edit-board-description-input\"\n                  value={editingBoard?.description || \"\"}\n                  onChange={(e) => setEditingBoard({ ...editingBoard, description: e.target.value })}\n                  placeholder=\"Board description (optional)\"\n                  className=\"focus:ring-[#2E5C38]\"\n                />\n              </div>\n              <Button\n                onClick={handleUpdateBoard}\n                data-testid=\"update-board-submit\"\n                className=\"w-full bg-[#2E5C38] hover:bg-[#2E5C38]/90 text-white\"\n              >\n                Update Board\n              </Button>\n            </div>\n          </DialogContent>\n        </Dialog>\n      )}\n    </div>\n  );\n}\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}